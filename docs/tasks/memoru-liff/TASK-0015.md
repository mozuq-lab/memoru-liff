# TASK-0015: AIã‚«ãƒ¼ãƒ‰ç”Ÿæˆç”»é¢

**ã‚¿ã‚¹ã‚¯ID**: TASK-0015
**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD
**æ¨å®šå·¥æ•°**: 8æ™‚é–“
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 3 - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…
**ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸ”µ *user-stories.md 2.1ã‚ˆã‚Š*

## é–¢é€£æ–‡æ›¸
- **æ¦‚è¦**: [overview.md](overview.md)
- **è¦ä»¶å®šç¾©**: [requirements.md](../../spec/memoru-liff/requirements.md) - REQ-021, REQ-023, REQ-024
- **è¨­è¨ˆæ–‡æ›¸**: [architecture.md](../../design/memoru-liff/architecture.md)

## ã‚¿ã‚¹ã‚¯æ¦‚è¦
AIã‚’ä½¿ç”¨ã—ã¦ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ç”»é¢ã‚’å®Ÿè£…ã™ã‚‹ã€‚ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼ˆ2,000æ–‡å­—åˆ¶é™ï¼‰ã€AIç”Ÿæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã‚«ãƒ¼ãƒ‰å€™è£œã®ä¸€è¦§è¡¨ç¤ºã€ç·¨é›†ãƒ»é¸æŠæ©Ÿèƒ½ã€ä¿å­˜å‡¦ç†ã‚’è¡Œã†ã€‚

## ä¾å­˜ã‚¿ã‚¹ã‚¯
- **å‰æã‚¿ã‚¹ã‚¯**: TASK-0009ï¼ˆAIç”ŸæˆAPIï¼‰, TASK-0014ï¼ˆãƒ›ãƒ¼ãƒ ç”»é¢ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- **å¾Œç¶šã‚¿ã‚¹ã‚¯**: ãªã—

## å®Œäº†æ¡ä»¶
- [ ] ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆ2,000æ–‡å­—åˆ¶é™ï¼‰å®Ÿè£…
- [ ] AIç”Ÿæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆæ©Ÿèƒ½å®Ÿè£…
- [ ] ã‚«ãƒ¼ãƒ‰å€™è£œä¸€è¦§è¡¨ç¤ºæ©Ÿèƒ½å®Ÿè£…
- [ ] ã‚«ãƒ¼ãƒ‰ç·¨é›†ãƒ»é¸æŠæ©Ÿèƒ½å®Ÿè£…
- [ ] ä¿å­˜å‡¦ç†å®Ÿè£…
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆ80%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆ

---

## å®Ÿè£…è©³ç´°

### 1. AIã‚«ãƒ¼ãƒ‰ç”Ÿæˆç”»é¢ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *user-stories.md 2.1ã‚ˆã‚Š*

AIã‚«ãƒ¼ãƒ‰ç”Ÿæˆã®ãƒ¡ã‚¤ãƒ³ç”»é¢ã‚’å®Ÿè£…ã™ã‚‹ã€‚

```typescript
// frontend/src/pages/GeneratePage.tsx
import { useState, useCallback } from 'react';
import { useNavigate } from 'react-router-dom';
import { CardPreview } from '../components/CardPreview';
import { Loading } from '../components/common/Loading';
import { Error } from '../components/common/Error';
import { cardsApi } from '../services/api';
import { GeneratedCard } from '../types/card';

const MAX_CHARS = 2000;
const MAX_GENERATION_TIME = 30000; // 30ç§’

export const GeneratePage = () => {
  const navigate = useNavigate();
  const [inputText, setInputText] = useState('');
  const [generatedCards, setGeneratedCards] = useState<GeneratedCard[]>([]);
  const [selectedCards, setSelectedCards] = useState<Set<string>>(new Set());
  const [isGenerating, setIsGenerating] = useState(false);
  const [isSaving, setIsSaving] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const charCount = inputText.length;
  const isOverLimit = charCount > MAX_CHARS;
  const canGenerate = inputText.trim().length > 0 && !isOverLimit && !isGenerating;

  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {
    setInputText(e.target.value);
    setError(null);
  };

  const handleGenerate = useCallback(async () => {
    if (!canGenerate) return;

    setIsGenerating(true);
    setError(null);
    setGeneratedCards([]);
    setSelectedCards(new Set());

    const timeoutId = setTimeout(() => {
      setIsGenerating(false);
      setError('ç”ŸæˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    }, MAX_GENERATION_TIME);

    try {
      const cards = await cardsApi.generateCards(inputText);
      clearTimeout(timeoutId);
      setGeneratedCards(cards);
      // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¨ã¦ã®ã‚«ãƒ¼ãƒ‰ã‚’é¸æŠ
      setSelectedCards(new Set(cards.map(c => c.tempId)));
    } catch (err) {
      clearTimeout(timeoutId);
      setError('ã‚«ãƒ¼ãƒ‰ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      setIsGenerating(false);
    }
  }, [canGenerate, inputText]);

  const handleToggleCard = (tempId: string) => {
    setSelectedCards(prev => {
      const next = new Set(prev);
      if (next.has(tempId)) {
        next.delete(tempId);
      } else {
        next.add(tempId);
      }
      return next;
    });
  };

  const handleEditCard = (tempId: string, front: string, back: string) => {
    setGeneratedCards(prev =>
      prev.map(card =>
        card.tempId === tempId ? { ...card, front, back } : card
      )
    );
  };

  const handleSave = useCallback(async () => {
    const cardsToSave = generatedCards.filter(c => selectedCards.has(c.tempId));
    if (cardsToSave.length === 0) return;

    setIsSaving(true);
    setError(null);

    try {
      await cardsApi.saveGeneratedCards(cardsToSave);
      navigate('/cards', { state: { message: `${cardsToSave.length}æšã®ã‚«ãƒ¼ãƒ‰ã‚’ä¿å­˜ã—ã¾ã—ãŸ` } });
    } catch (err) {
      setError('ã‚«ãƒ¼ãƒ‰ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
    } finally {
      setIsSaving(false);
    }
  }, [generatedCards, selectedCards, navigate]);

  const selectedCount = selectedCards.size;

  return (
    <div className="pb-20">
      <header className="bg-white shadow-sm p-4 mb-4">
        <h1 className="text-xl font-bold text-gray-800">AIã‚«ãƒ¼ãƒ‰ç”Ÿæˆ</h1>
      </header>

      <div className="px-4">
        {/* ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢ */}
        <div className="mb-6">
          <label className="block text-sm font-medium text-gray-700 mb-2">
            å­¦ç¿’ã—ãŸã„ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
          </label>
          <textarea
            value={inputText}
            onChange={handleInputChange}
            placeholder="ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›..."
            className={`w-full h-40 p-3 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${
              isOverLimit ? 'border-red-500' : 'border-gray-300'
            }`}
            disabled={isGenerating}
          />
          <div className="flex justify-between mt-2">
            <span className={`text-sm ${isOverLimit ? 'text-red-500' : 'text-gray-500'}`}>
              {charCount} / {MAX_CHARS}æ–‡å­—
            </span>
            {isOverLimit && (
              <span className="text-sm text-red-500">
                æ–‡å­—æ•°åˆ¶é™ã‚’è¶…ãˆã¦ã„ã¾ã™
              </span>
            )}
          </div>
        </div>

        {/* ç”Ÿæˆãƒœã‚¿ãƒ³ */}
        <button
          onClick={handleGenerate}
          disabled={!canGenerate}
          className={`w-full py-3 rounded-lg font-medium min-h-[44px] ${
            canGenerate
              ? 'bg-green-600 text-white hover:bg-green-700 active:bg-green-800'
              : 'bg-gray-300 text-gray-500 cursor-not-allowed'
          }`}
        >
          {isGenerating ? 'ç”Ÿæˆä¸­...' : 'AIã§ã‚«ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ'}
        </button>

        {/* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ */}
        {isGenerating && (
          <div className="mt-6">
            <Loading message="ã‚«ãƒ¼ãƒ‰ã‚’ç”Ÿæˆä¸­...ï¼ˆæœ€å¤§30ç§’ï¼‰" />
          </div>
        )}

        {/* ã‚¨ãƒ©ãƒ¼è¡¨ç¤º */}
        {error && (
          <div className="mt-6">
            <Error message={error} onRetry={handleGenerate} />
          </div>
        )}

        {/* ç”Ÿæˆã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ä¸€è¦§ */}
        {generatedCards.length > 0 && !isGenerating && (
          <div className="mt-6">
            <div className="flex justify-between items-center mb-4">
              <h2 className="text-lg font-semibold text-gray-800">
                ç”Ÿæˆã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ ({generatedCards.length}æš)
              </h2>
              <span className="text-sm text-gray-600">
                {selectedCount}æšé¸æŠä¸­
              </span>
            </div>

            <div className="space-y-4">
              {generatedCards.map((card) => (
                <CardPreview
                  key={card.tempId}
                  card={card}
                  isSelected={selectedCards.has(card.tempId)}
                  onToggle={() => handleToggleCard(card.tempId)}
                  onEdit={(front, back) => handleEditCard(card.tempId, front, back)}
                />
              ))}
            </div>

            {/* ä¿å­˜ãƒœã‚¿ãƒ³ */}
            <button
              onClick={handleSave}
              disabled={selectedCount === 0 || isSaving}
              className={`w-full py-3 mt-6 rounded-lg font-medium min-h-[44px] ${
                selectedCount > 0 && !isSaving
                  ? 'bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800'
                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'
              }`}
            >
              {isSaving ? 'ä¿å­˜ä¸­...' : `é¸æŠã—ãŸã‚«ãƒ¼ãƒ‰ã‚’ä¿å­˜ (${selectedCount}æš)`}
            </button>
          </div>
        )}
      </div>
    </div>
  );
};
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/pages/GeneratePage.tsx`

### 2. ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *user-stories.md 2.1ã‚ˆã‚Š*

ç”Ÿæˆã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ç·¨é›†æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

```typescript
// frontend/src/components/CardPreview.tsx
import { useState } from 'react';
import { GeneratedCard } from '../types/card';

interface CardPreviewProps {
  card: GeneratedCard;
  isSelected: boolean;
  onToggle: () => void;
  onEdit: (front: string, back: string) => void;
}

export const CardPreview = ({ card, isSelected, onToggle, onEdit }: CardPreviewProps) => {
  const [isEditing, setIsEditing] = useState(false);
  const [editFront, setEditFront] = useState(card.front);
  const [editBack, setEditBack] = useState(card.back);

  const handleSaveEdit = () => {
    onEdit(editFront, editBack);
    setIsEditing(false);
  };

  const handleCancelEdit = () => {
    setEditFront(card.front);
    setEditBack(card.back);
    setIsEditing(false);
  };

  return (
    <div className={`bg-white rounded-lg shadow p-4 border-2 ${
      isSelected ? 'border-blue-500' : 'border-transparent'
    }`}>
      {isEditing ? (
        /* ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ */
        <div className="space-y-3">
          <div>
            <label className="block text-sm font-medium text-gray-600 mb-1">
              è¡¨é¢ï¼ˆè³ªå•ï¼‰
            </label>
            <textarea
              value={editFront}
              onChange={(e) => setEditFront(e.target.value)}
              className="w-full p-2 border border-gray-300 rounded resize-none h-20"
            />
          </div>
          <div>
            <label className="block text-sm font-medium text-gray-600 mb-1">
              è£é¢ï¼ˆè§£ç­”ï¼‰
            </label>
            <textarea
              value={editBack}
              onChange={(e) => setEditBack(e.target.value)}
              className="w-full p-2 border border-gray-300 rounded resize-none h-20"
            />
          </div>
          <div className="flex gap-2">
            <button
              onClick={handleSaveEdit}
              className="flex-1 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 min-h-[44px]"
            >
              ä¿å­˜
            </button>
            <button
              onClick={handleCancelEdit}
              className="flex-1 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 min-h-[44px]"
            >
              ã‚­ãƒ£ãƒ³ã‚»ãƒ«
            </button>
          </div>
        </div>
      ) : (
        /* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰ */
        <div>
          <div className="flex justify-between items-start mb-3">
            <button
              onClick={onToggle}
              className={`flex items-center justify-center w-6 h-6 rounded border-2 ${
                isSelected
                  ? 'bg-blue-500 border-blue-500 text-white'
                  : 'border-gray-300'
              }`}
            >
              {isSelected && (
                <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" />
                </svg>
              )}
            </button>
            <button
              onClick={() => setIsEditing(true)}
              className="text-gray-500 hover:text-gray-700 p-1 min-w-[44px] min-h-[44px] flex items-center justify-center"
            >
              <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
              </svg>
            </button>
          </div>

          <div className="mb-3">
            <span className="text-xs font-medium text-gray-500">è¡¨é¢</span>
            <p className="text-gray-800 mt-1">{card.front}</p>
          </div>

          <div className="border-t pt-3">
            <span className="text-xs font-medium text-gray-500">è£é¢</span>
            <p className="text-gray-800 mt-1">{card.back}</p>
          </div>
        </div>
      )}
    </div>
  );
};
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/components/CardPreview.tsx`

### 3. AIç”ŸæˆAPIé€£æº ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *architecture.mdã‚ˆã‚Š*

AIç”ŸæˆAPIã¨ã®é€£æºã‚’å®Ÿè£…ã™ã‚‹ã€‚

```typescript
// frontend/src/services/api.ts (éƒ¨åˆ†)
export interface GeneratedCard {
  tempId: string;
  front: string;
  back: string;
}

export const cardsApi = {
  // ... ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰

  generateCards: async (text: string): Promise<GeneratedCard[]> => {
    const response = await apiClient.post<{ cards: GeneratedCard[] }>('/cards/generate', {
      text,
    });
    return response.data.cards;
  },

  saveGeneratedCards: async (cards: GeneratedCard[]): Promise<void> => {
    await apiClient.post('/cards/batch', {
      cards: cards.map(c => ({ front: c.front, back: c.back })),
    });
  },
};
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/services/api.ts`

### 4. å‹å®šç¾© ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *architecture.mdã‚ˆã‚Š*

å¿…è¦ãªå‹å®šç¾©ã‚’è¿½åŠ ã™ã‚‹ã€‚

```typescript
// frontend/src/types/card.ts
export interface GeneratedCard {
  tempId: string;
  front: string;
  back: string;
}

export interface Card {
  id: string;
  front: string;
  back: string;
  due: string;
  interval: number;
  efactor: number;
  createdAt: string;
  updatedAt: string;
}
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/types/card.ts`

---

## å˜ä½“ãƒ†ã‚¹ãƒˆè¦ä»¶

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1: æ–‡å­—æ•°åˆ¶é™ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *REQ-021ã‚ˆã‚Š*
**Given**: ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
**When**: 2,000æ–‡å­—ã‚’è¶…ãˆã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›
**Then**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ç”Ÿæˆãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2: æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¡¨ç¤º ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *user-stories.md 2.1ã‚ˆã‚Š*
**Given**: ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
**When**: ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›
**Then**: ç¾åœ¨ã®æ–‡å­—æ•°ã¨ä¸Šé™ãŒè¡¨ç¤ºã•ã‚Œã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹3: ç”Ÿæˆä¸­ã®UIçŠ¶æ…‹ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *REQ-023ã‚ˆã‚Š*
**Given**: ãƒ†ã‚­ã‚¹ãƒˆãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹
**When**: ç”Ÿæˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
**Then**: ã€Œç”Ÿæˆä¸­...ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹4: ç”Ÿæˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ ğŸŸ¡
**ä¿¡é ¼æ€§**: ğŸŸ¡ *è¦ä»¶ã‹ã‚‰å¦¥å½“ãªæ¨æ¸¬*
**Given**: AIç”Ÿæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­
**When**: 30ç§’ä»¥ä¸ŠçµŒé
**Then**: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã€å†è©¦è¡Œãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹5: ã‚«ãƒ¼ãƒ‰å€™è£œã®è¡¨ç¤º ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *REQ-024ã‚ˆã‚Š*
**Given**: AIç”ŸæˆãŒæˆåŠŸ
**When**: ã‚«ãƒ¼ãƒ‰å€™è£œãŒè¿”å´ã•ã‚Œã‚‹
**Then**: ã‚«ãƒ¼ãƒ‰å€™è£œä¸€è¦§ãŒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã•ã‚Œã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹6: ã‚«ãƒ¼ãƒ‰ã®é¸æŠ/è§£é™¤ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *user-stories.md 2.1ã‚ˆã‚Š*
**Given**: ã‚«ãƒ¼ãƒ‰å€™è£œãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
**When**: ã‚«ãƒ¼ãƒ‰ã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯
**Then**: ã‚«ãƒ¼ãƒ‰ã®é¸æŠçŠ¶æ…‹ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹7: ã‚«ãƒ¼ãƒ‰ã®ç·¨é›† ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *user-stories.md 2.1ã‚ˆã‚Š*
**Given**: ã‚«ãƒ¼ãƒ‰å€™è£œãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
**When**: ç·¨é›†ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
**Then**: ã‚«ãƒ¼ãƒ‰ãŒç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹8: ã‚«ãƒ¼ãƒ‰ã®ä¿å­˜ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *REQ-024ã‚ˆã‚Š*
**Given**: ã‚«ãƒ¼ãƒ‰ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹
**When**: ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
**Then**: é¸æŠã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ãŒä¿å­˜ã•ã‚Œã€ã‚«ãƒ¼ãƒ‰ä¸€è¦§ç”»é¢ã«é·ç§»ã™ã‚‹

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹9: ã‚¨ãƒ©ãƒ¼è¡¨ç¤º ğŸŸ¡
**ä¿¡é ¼æ€§**: ğŸŸ¡ *è¦ä»¶ã‹ã‚‰å¦¥å½“ãªæ¨æ¸¬*
**Given**: APIå‘¼ã³å‡ºã—ä¸­
**When**: ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
**Then**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨å†è©¦è¡Œãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## UI/UXè¦ä»¶

### ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *REQ-023ã‚ˆã‚Š*
- ç”Ÿæˆä¸­ã¯ã€Œç”Ÿæˆä¸­...ã€ã¨ã‚¹ãƒ”ãƒŠãƒ¼ã‚’è¡¨ç¤º
- æœ€å¤§30ç§’ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¡¨ç¤º
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç„¡åŠ¹åŒ–

### ã‚¨ãƒ©ãƒ¼è¡¨ç¤º ğŸŸ¡
**ä¿¡é ¼æ€§**: ğŸŸ¡ *è¦ä»¶ã‹ã‚‰å¦¥å½“ãªæ¨æ¸¬*
- ã‚¨ãƒ©ãƒ¼æ™‚ã¯æ˜ç¢ºãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
- å†è©¦è¡Œãƒœã‚¿ãƒ³ã‚’é…ç½®
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã¨APIã‚¨ãƒ©ãƒ¼ã‚’åŒºåˆ¥

### ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *NFR-201ã‚ˆã‚Š*
- ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½
- ãƒœã‚¿ãƒ³ã¯44pxä»¥ä¸Šã®ã‚¿ãƒƒãƒé ˜åŸŸ
- ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ã‚¹ãƒ¯ã‚¤ãƒ—ã§æ¬¡ã®ã‚«ãƒ¼ãƒ‰ã«ç§»å‹•å¯èƒ½ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ğŸ”µ
**ä¿¡é ¼æ€§**: ğŸ”µ *user-stories.md 2.1ã‚ˆã‚Š*
- è¡¨é¢ã¨è£é¢ã‚’æ˜ç¢ºã«åŒºåˆ¥ã—ã¦è¡¨ç¤º
- é¸æŠçŠ¶æ…‹ã‚’è¦–è¦šçš„ã«è¡¨ç¾ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼è‰²å¤‰æ›´ï¼‰
- ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã¸ã®åˆ‡ã‚Šæ›¿ãˆã¯ã‚¿ãƒƒãƒ—ã§å³åº§ã«

---

## å®Ÿè£…æ‰‹é †

### TDDã‚¿ã‚¹ã‚¯ã®å ´åˆ
1. `/tsumiki:tdd-requirements TASK-0015` - è©³ç´°è¦ä»¶å®šç¾©
2. `/tsumiki:tdd-testcases` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
3. `/tsumiki:tdd-red` - ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
4. `/tsumiki:tdd-green` - æœ€å°å®Ÿè£…
5. `/tsumiki:tdd-refactor` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
6. `/tsumiki:tdd-verify-complete` - å“è³ªç¢ºèª

---

## æ³¨æ„äº‹é …
- AIç”Ÿæˆã¯æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€é©åˆ‡ãªãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãŒé‡è¦
- ç”Ÿæˆã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã®tempIdã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ä¸€æ™‚çš„ã«ç”Ÿæˆã™ã‚‹
- ä¿å­˜æ™‚ã«ã¯ã‚µãƒ¼ãƒãƒ¼å´ã§æ­£å¼ãªIDãŒä»˜ä¸ã•ã‚Œã‚‹
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­æ™‚ã®å¯¾å¿œã‚’è€ƒæ…®ã™ã‚‹

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼
- ğŸ”µ **é’ä¿¡å·**: 14é …ç›®
- ğŸŸ¡ **é»„ä¿¡å·**: 3é …ç›®
- ğŸ”´ **èµ¤ä¿¡å·**: 0é …ç›®

**å“è³ªè©•ä¾¡**: é«˜å“è³ª
